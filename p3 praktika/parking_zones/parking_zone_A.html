<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./parking_zones.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" hrefÐ¤="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800&display=swap">

    <!--IZPOLZVA jQuery, NO ZA DA NE SE TEGLI, SE IZPOLZVA TOZI LINK-->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <title>Sector A</title>
</head>

<body>

    <div id="particle-canvas"></div>
    <div class="d-flex flex-column position-absolute top-0 start-0 w-100 h-100">
        <header style="border: 3px solid red; color: white; height: 100px;" class="w-100  d-flex z-0">
            0</header>
        <div class="d-flex flex-row w-100 h-100 justify-content-center">
            <div class="text-light col-3" style="border: 3px solid red;">
                <div class="widget">
                    <canvas>
                        <script>
                            window.requestAnimFrame = (function () {
                                return window.requestAnimationFrame ||
                                    window.webkitRequestAnimationFrame ||
                                    window.mozRequestAnimationFrame ||
                                    function (callback) {
                                        window.setTimeout(callback, 1000 / 60);
                                    };
                            })();

                            var canva = $('canvas')[0];
                            var cxt = canva.getContext('2d');
                            var width = $('canvas').width();
                            var height = $('canvas').height();
                            canva.width = width;
                            canva.height = height;
                            var center = { x: width / 2, y: height / 2 };
                            var value = .78;
                            var initialValue = 0;

                            var rotation = Math.random() * Math.PI * 2;

                            var draw = function () {
                                rotation += .001;

                                if (rotation >= Math.PI * 2)
                                    rotation -= Math.PI * 2;

                                if (Math.abs(initialValue - value) < .001)
                                    initialValue = value;

                                if (initialValue != value) {
                                    initialValue += (value - initialValue) / 50;
                                    $('.widget h2').html(Math.round(initialValue * 100) + '%');
                                }

                                cxt.clearRect(0, 0, width, height);
                                cxt.save();

                                cxt.translate(center.x, center.y);
                                cxt.rotate(rotation)

                                cxt.lineWidth = 35;
                                cxt.beginPath();
                                cxt.arc(0, 0, 100, 0, Math.PI * 2, false);
                                var grad = cxt.createLinearGradient(0, 0, 0, height);
                                grad.addColorStop(0, '#f28b83');
                                grad.addColorStop(1, '#d75952');
                                cxt.strokeStyle = grad;
                                cxt.shadowBlur = 10;
                                cxt.shadowColor = "rgba(0,0,0,.5)";
                                cxt.shadowOffsetX = 0;
                                cxt.shadowOffsetY = 4;
                                cxt.stroke();

                                cxt.beginPath();
                                cxt.arc(0, 0, 120, rotation, Math.PI * 2 * initialValue + rotation, false);
                                grad = cxt.createLinearGradient(0, 0, 0, height);
                                grad.addColorStop(0, '#ffe7e6');
                                grad.addColorStop(1, '#ffaba5');
                                cxt.strokeStyle = grad;
                                cxt.shadowBlur = 10;
                                cxt.shadowColor = "rgba(0,0,0,.5)";
                                cxt.shadowOffsetX = 0;
                                cxt.shadowOffsetY = 4;
                                cxt.stroke();

                                cxt.restore();
                                requestAnimFrame(draw);
                            }
                            draw();
                        </script>
                    </canvas>
                    <div class="labels">
                        <h2>78%</h2>
                        Capacity
                    </div>
                </div>
            </div>


            <div class="text-light col-8" style="border: 3px solid red; ">
                <div class="modal-dialog modal-xl center" style="background-color: aliceblue; width: 80%; height: 70%; "></div>
            </div>
            <div class="text-light col-1" style="border: 3px solid red; ">3</div>
        </div>
    </div>


    <script>
        !function (a) { var b = "object" == typeof self && self.self === self && self || "object" == typeof global && global.global === global && global; "function" == typeof define && define.amd ? define(["exports"], function (c) { b.ParticleNetwork = a(b, c) }) : "object" == typeof module && module.exports ? module.exports = a(b, {}) : b.ParticleNetwork = a(b, {}) }(function (a, b) { var c = function (a) { this.canvas = a.canvas, this.g = a.g, this.particleColor = a.options.particleColor, this.x = Math.random() * this.canvas.width, this.y = Math.random() * this.canvas.height, this.velocity = { x: (Math.random() - .5) * a.options.velocity, y: (Math.random() - .5) * a.options.velocity } }; return c.prototype.update = function () { (this.x > this.canvas.width + 20 || this.x < -20) && (this.velocity.x = -this.velocity.x), (this.y > this.canvas.height + 20 || this.y < -20) && (this.velocity.y = -this.velocity.y), this.x += this.velocity.x, this.y += this.velocity.y }, c.prototype.h = function () { this.g.beginPath(), this.g.fillStyle = this.particleColor, this.g.globalAlpha = .7, this.g.arc(this.x, this.y, 1.5, 0, 2 * Math.PI), this.g.fill() }, b = function (a, b) { this.i = a, this.i.size = { width: this.i.offsetWidth, height: this.i.offsetHeight }, b = void 0 !== b ? b : {}, this.options = { particleColor: void 0 !== b.particleColor ? b.particleColor : "#fff", background: void 0 !== b.background ? b.background : "#1a252f", interactive: void 0 !== b.interactive ? b.interactive : !0, velocity: this.setVelocity(b.speed), density: this.j(b.density) }, this.init() }, b.prototype.init = function () { if (this.k = document.createElement("div"), this.i.appendChild(this.k), this.l(this.k, { position: "absolute", top: 0, left: 0, bottom: 0, right: 0, "z-index": 1 }), /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.options.background)) this.l(this.k, { background: this.options.background }); else { if (!/\.(gif|jpg|jpeg|tiff|png)$/i.test(this.options.background)) return console.error("Please specify a valid background image or hexadecimal color"), !1; this.l(this.k, { background: 'url("' + this.options.background + '") no-repeat center', "background-size": "cover" }) } if (!/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this.options.particleColor)) return console.error("Please specify a valid particleColor hexadecimal color"), !1; this.canvas = document.createElement("canvas"), this.i.appendChild(this.canvas), this.g = this.canvas.getContext("2d"), this.canvas.width = this.i.size.width, this.canvas.height = this.i.size.height, this.l(this.i, { position: "relative" }), this.l(this.canvas, { "z-index": "20", position: "relative" }), window.addEventListener("resize", function () { return this.i.offsetWidth === this.i.size.width && this.i.offsetHeight === this.i.size.height ? !1 : (this.canvas.width = this.i.size.width = this.i.offsetWidth, this.canvas.height = this.i.size.height = this.i.offsetHeight, clearTimeout(this.m), void (this.m = setTimeout(function () { this.o = []; for (var a = 0; a < this.canvas.width * this.canvas.height / this.options.density; a++)this.o.push(new c(this)); this.options.interactive && this.o.push(this.p), requestAnimationFrame(this.update.bind(this)) }.bind(this), 500))) }.bind(this)), this.o = []; for (var a = 0; a < this.canvas.width * this.canvas.height / this.options.density; a++)this.o.push(new c(this)); this.options.interactive && (this.p = new c(this), this.p.velocity = { x: 0, y: 0 }, this.o.push(this.p), this.canvas.addEventListener("mousemove", function (a) { this.p.x = a.clientX - this.canvas.offsetLeft, this.p.y = a.clientY - this.canvas.offsetTop }.bind(this)), this.canvas.addEventListener("mouseup", function (a) { this.p.velocity = { x: (Math.random() - .5) * this.options.velocity, y: (Math.random() - .5) * this.options.velocity }, this.p = new c(this), this.p.velocity = { x: 0, y: 0 }, this.o.push(this.p) }.bind(this))), requestAnimationFrame(this.update.bind(this)) }, b.prototype.update = function () { this.g.clearRect(0, 0, this.canvas.width, this.canvas.height), this.g.globalAlpha = 1; for (var a = 0; a < this.o.length; a++) { this.o[a].update(), this.o[a].h(); for (var b = this.o.length - 1; b > a; b--) { var c = Math.sqrt(Math.pow(this.o[a].x - this.o[b].x, 2) + Math.pow(this.o[a].y - this.o[b].y, 2)); c > 120 || (this.g.beginPath(), this.g.strokeStyle = this.options.particleColor, this.g.globalAlpha = (120 - c) / 120, this.g.lineWidth = .7, this.g.moveTo(this.o[a].x, this.o[a].y), this.g.lineTo(this.o[b].x, this.o[b].y), this.g.stroke()) } } 0 !== this.options.velocity && requestAnimationFrame(this.update.bind(this)) }, b.prototype.setVelocity = function (a) { return "fast" === a ? 1 : "slow" === a ? .33 : "none" === a ? 0 : .66 }, b.prototype.j = function (a) { return "high" === a ? 5e3 : "low" === a ? 2e4 : isNaN(parseInt(a, 10)) ? 1e4 : a }, b.prototype.l = function (a, b) { for (var c in b) a.style[c] = b[c] }, b });

        var canvasDiv = document.getElementById('particle-canvas');
        var options = {
            particleColor: '#E1B02E',
            background: '#202020',
            interactive: true,
            speed: 'low',
            density: 'medium'
        };
        var particleCanvas = new ParticleNetwork(canvasDiv, options);
    </script>
</body>

</html>